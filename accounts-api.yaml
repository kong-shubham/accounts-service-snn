type: spec.insomnia.rest/5.0
schema_version: "5.1"
name: accounts-api
meta:
  id: wrk_e9cbbd0b353340c6911a7282efee1f0d
  created: 1765950789931
  modified: 1765950789931
  description: ""
cookieJar:
  name: Default Jar
  meta:
    id: jar_203da8e87c431522b7a3a916ccbfabe3dafe4fab
    created: 1765950789935
    modified: 1765950789935
environments:
  name: Base Environment
  meta:
    id: env_203da8e87c431522b7a3a916ccbfabe3dafe4fab
    created: 1765950789935
    modified: 1765950789935
    isPrivate: false
spec:
  contents:
    openapi: 3.0.3
    info:
      title: Accounts API
      version: 1.1.0
      description: This API manages account information and balances.
      contact:
        email: stephen.brown@konghq.com
    servers:
      - url: http://localhost:8081
        description: Local development server
    paths:
      /accounts:
        post:
          tags:
            - accounts
          summary: Create account
          description: Creates a new account with an initial balance. The account ID is
            automatically generated.
          operationId: createAccount
          requestBody:
            description: Details of the new account
            required: true
            content:
              application/json:
                schema:
                  $ref: "#/components/schemas/CreateAccountRequest"
                examples:
                  savings_account:
                    summary: Savings account example
                    value:
                      type: savings
                      initial_balance: 5000
          responses:
            "201":
              description: Account created successfully
              content:
                application/json:
                  schema:
                    $ref: "#/components/schemas/Account"
                  examples:
                    created_account:
                      summary: Created account
                      value:
                        account_id: 123e4567-e89b-12d3-a456-426614174000
                        type: savings
                        balance: 5000
        get:
          tags:
            - accounts
          summary: get all accounts
          description: get all accounts
          operationId: getAllAccounts
          responses:
            "200":
              description: Account retrieved successfully
      /accounts/{account_id}:
        delete:
          tags:
            - accounts
          summary: Delete account
          description: Deletes an account based on id
          operationId: deleteAccount
          parameters:
            - name: account_id
              in: path
              required: true
              schema:
                type: string
          responses:
            "204":
              description: Account deleted successfully
        get:
          tags:
            - accounts
          summary: get account details
          description: get an account based on id
          operationId: getAccount
          parameters:
            - name: account_id
              in: path
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Account details
      /accounts/{account_id}/debit:
        post:
          tags:
            - accounts
          summary: debit account
          description: Deletes an account based on id
          operationId: debitAccount
          parameters:
            - name: account_id
              in: path
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Account debited successfully
      /accounts/{account_id}/credit:
        post:
          tags:
            - accounts
          summary: credit account
          description: credits an account based on id
          operationId: creditAccount
          parameters:
            - name: account_id
              in: path
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Account credited successfully
      /health:
        get:
          tags:
            - health
          summary: health check
          description: healtch check
          operationId: healtCheck
          responses:
            "200":
              description: Account credited successfully
    components:
      schemas:
        CreateAccountRequest:
          type: object
          required:
            - type
            - initial_balance
          properties:
            type:
              type: string
              description: Type of account (e.g. checking, savings)
            initial_balance:
              type: number
              format: double
              description: Initial deposit amount
        Account:
          type: object
          properties:
            account_id:
              type: string
              format: uuid
            type:
              type: string
            balance:
              type: number
    tags:
      - name: accounts
        description: Accounts endpoints
      - name: health
        description: health check
  meta:
    id: spc_1d25f319d3514c0c95f0990c9ce576de
    created: 1765950789934
    modified: 1765959457507
